@*@model IEnumerable<WebApplication1.Models.Customer>*@
@model IPagedList<WebApplication1.Models.Customer>
@{
    ViewBag.Title = "Paging Grid View";
}
<head>
    <script src="../../Scripts/jquery-1.10.2.min.js" type="text/javascript"></script>
</head>

<h2>@ViewBag.Message</h2>
@using (Html.BeginForm("Index", "TablePaging", FormMethod.Post, new { id = "CustomerList" }))
{
    <fieldset class="form-inline">
        @Html.Label("City:")
        @Html.DropDownList("City", (SelectList)ViewBag.CityList)
        @Html.Label("ColumnName:")
        @Html.DropDownList("ColumnName", (SelectList)ViewBag.ColumnNameList)
        @Html.Label("Sort:")
        @Html.DropDownList("Sort", (SelectList)ViewBag.SortList)
        <input type="submit" id="ButtonSubmit" value="Show Details" />
        <input type="button" id="ButtonReset" value="Clear" />
    </fieldset>

    if (Model != null && Model.Count() > 0)
    {
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.First().CompanyName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().ContactName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().ContactTitle)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().Address)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().City)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().Region)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().PostalCode)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().Country)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().Phone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.First().Fax)
                </th>
            </tr>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.CompanyName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ContactName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ContactTitle)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Address)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.City)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Region)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PostalCode)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Country)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Fax)
                    </td>
                </tr>
            }
        </table>
    }

}

<script type="text/javascript" language="javascript">
<!--
    $(document).ready(function () {
        DisplayCustomers();
    });

    function DisplayCustomers() {
//        var selectedValue = $('#Products option:selected').val();
        $.ajax({
                url: '@Url.Action("GetCustomersInfo", "TablePaging")',
                data: {productID: selectedValue},
                type: 'post',
                cache: false,
                async: false,
                dataType: 'html',
                success: function (data) {}
            });
    }

</script>


